/*! For license information please see main.a9f7fa3a6556c78b9a31.js.LICENSE.txt */
(()=>{"use strict";function t(e){return t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},t(e)}function e(e,r){for(var n=0;n<r.length;n++){var o=r[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,(void 0,i=function(e,r){if("object"!==t(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var o=n.call(e,"string");if("object"!==t(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(o.key),"symbol"===t(i)?i:String(i)),o)}var i}var r=function(){function t(e,r,n,o,i,a){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._cardTemplate=i,this._card=this._createCard(),this._image=this._card.querySelector(".gallery__image"),this._deleteButton=this._card.querySelector(".gallery__delete-button"),this._caption=this._card.querySelector(".gallery__caption"),this._placeName=this._card.querySelector(".gallery__place-name"),this._like=this._card.querySelector(".gallery__like-button"),this._likeCounter=this._card.querySelector(".gallery__likes-count"),this._link=r,this._name=e,this._likes=n,this._ownerId=o,this._handleCardClick=a}var r,n;return r=t,(n=[{key:"_createCard",value:function(){return this._cardTemplate.content.querySelector(".gallery__card").cloneNode(!0)}},{key:"_setEventListeners",value:function(){var t=this;this._like.addEventListener("click",(function(){t._handleLikeClick()})),this._deleteButton.addEventListener("click",(function(){t._handleDeleteCard()})),this._image.addEventListener("click",(function(){t._handleCardClick(t._name,t._link)}))}},{key:"_handleLikeClick",value:function(){this._like.classList.toggle("gallery__like-button_active")}},{key:"_handleDeleteCard",value:function(){this._card.remove()}},{key:"generateCard",value:function(t){return this._image.src=this._link,this._image.alt=this._name,this._likeCounter.textContent=this._likes.length,this._placeName.textContent=this._name,this._setEventListeners(),this._ownerId===t&&this._deleteButton.classList.add("gallery__delete-button_visible"),this._card}}])&&e(r.prototype,n),Object.defineProperty(r,"prototype",{writable:!1}),t}();function n(t){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n(t)}function o(t,e){for(var r=0;r<e.length;r++){var o=e[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,(void 0,i=function(t,e){if("object"!==n(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var o=r.call(t,"string");if("object"!==n(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(o.key),"symbol"===n(i)?i:String(i)),o)}var i}var i=function(){function t(e,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._form=r,this._formSelector=e.formSelector,this._inputSelector=e.inputSelector,this._submitButtonSelector=e.submitButtonSelector,this._inactiveButtonClass=e.inactiveButtonClass,this._inputErrorClass=e.inputErrorClass,this._errorClass=e.errorClass,this._spanErrors=Array.from(r.querySelectorAll(e.spanErrorSelector)),this._inputList=Array.from(r.querySelectorAll(e.inputSelector))}var e,r;return e=t,(r=[{key:"_showInputError",value:function(t){this._errorElement=this._form.querySelector(".".concat(t.id,"-error")),this._errorElement.classList.add(this._errorClass),this._errorElement.textContent=t.validationMessage,t.classList.add(this._inputErrorClass)}},{key:"_hideInputError",value:function(t){this._errorElement=this._form.querySelector(".".concat(t.id,"-error")),this._errorElement.classList.remove(this._errorClass),this._errorElement.textContent="",t.classList.remove(this._inputErrorClass)}},{key:"_checkInputValidity",value:function(t){t.validity.valid?this._hideInputError(t):this._showInputError(t)}},{key:"_hasInvalidInput",value:function(){return this._inputList.some((function(t){return!t.validity.valid}))}},{key:"_toggleButtonState",value:function(){this._hasInvalidInput()?(this._buttonElement.classList.add(this._inactiveButtonClass),this._buttonElement.disabled=!0):(this._buttonElement.classList.remove(this._inactiveButtonClass),this._buttonElement.disabled=!1)}},{key:"_setEventListeners",value:function(){var t=this;this._buttonElement=this._form.querySelector(this._submitButtonSelector),this._toggleButtonState(),this._inputList.forEach((function(e){e.addEventListener("input",(function(){t._checkInputValidity(e),t._toggleButtonState()}))}))}},{key:"resetValidation",value:function(){var t=this;this._toggleButtonState(),this._inputList.forEach((function(e){t._hideInputError(e)}))}},{key:"enableValidation",value:function(){this._setEventListeners()}}])&&o(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),t}(),a={formSelector:".popup__container",inputSelector:".popup__text",submitButtonSelector:".popup__button",inactiveButtonClass:"popup__button_inactive",inputErrorClass:"popup__text_type_error",errorClass:"popup__text-error_visible",spanErrorSelector:".popup__span-error"};function u(t){return u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},u(t)}function c(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==u(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==u(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===u(o)?o:String(o)),n)}var o}var s=function(){function t(e,r){var n=e.items,o=e.renderer,i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._items=n,this._renderer=o,this._container=r,this._append=i}var e,r;return e=t,(r=[{key:"renderItems",value:function(){var t=this;this._items.forEach((function(e){t._renderer(e)}))}},{key:"addItem",value:function(t){this._append?this._container.append(t):this._container.prepend(t)}}])&&c(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();function l(t){return l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},l(t)}function f(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==l(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==l(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===l(o)?o:String(o)),n)}var o}var p=function(){function t(e){var r=e.userName,n=e.userJob;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._userName=document.querySelector(r),this._userJob=document.querySelector(n)}var e,r;return e=t,(r=[{key:"getUserInfo",value:function(){return{name:this._userName.textContent,about:this._userJob.textContent}}},{key:"setUserInfo",value:function(t){this._userName.textContent=t.name,this._userJob.textContent=t.about}}])&&f(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();function h(t){return h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},h(t)}function y(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==h(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==h(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===h(o)?o:String(o)),n)}var o}var v=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._popup=e,this._handleEscClose=this._handleEscClose.bind(this)}var e,r;return e=t,(r=[{key:"open",value:function(){this._popup.classList.add("popup_opened"),document.addEventListener("keydown",this._handleEscClose)}},{key:"close",value:function(){this._popup.classList.remove("popup_opened"),document.removeEventListener("keydown",this._handleEscClose)}},{key:"_handleEscClose",value:function(t){"Escape"===t.key&&this.close()}},{key:"setEventListeners",value:function(){var t=this;this._popup.addEventListener("mousedown",(function(e){(e.target.classList.contains("popup_opened")||e.target.classList.contains("popup__close-button"))&&t.close()}))}}])&&y(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();function d(t){return d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},d(t)}function m(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==d(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==d(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===d(o)?o:String(o)),n)}var o}function b(){return b="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,r){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=g(t)););return t}(t,e);if(n){var o=Object.getOwnPropertyDescriptor(n,e);return o.get?o.get.call(arguments.length<3?t:r):o.value}},b.apply(this,arguments)}function _(t,e){return _=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},_(t,e)}function g(t){return g=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},g(t)}var w=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&_(t,e)}(a,t);var e,r,n,o,i=(n=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=g(n);if(o){var r=g(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===d(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function a(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),(e=i.call(this,t))._popupImage=e._popup.querySelector(".popup__image"),e._popupCaption=e._popup.querySelector(".popup__caption"),e}return e=a,(r=[{key:"open",value:function(t,e){this._popupImage.src=t,this._popupImage.alt=e,this._popupCaption.textContent=e,b(g(a.prototype),"open",this).call(this)}}])&&m(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),a}(v);function S(t){return S="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},S(t)}function E(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==S(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==S(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===S(o)?o:String(o)),n)}var o}function k(){return k="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,r){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=L(t)););return t}(t,e);if(n){var o=Object.getOwnPropertyDescriptor(n,e);return o.get?o.get.call(arguments.length<3?t:r):o.value}},k.apply(this,arguments)}function j(t,e){return j=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},j(t,e)}function L(t){return L=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},L(t)}var O=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&j(t,e)}(a,t);var e,r,n,o,i=(n=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=L(n);if(o){var r=L(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===S(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function a(t,e){var r;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),(r=i.call(this,t))._handlerFormSubmit=e,r._inputs=r._popup.querySelectorAll(".popup__text"),r._form=r._popup.querySelector(".popup__container"),r}return e=a,(r=[{key:"_getInputValues",value:function(){var t=this;return this._formValues={},this._inputs.forEach((function(e){t._formValues[e.name]=e.value})),this._formValues}},{key:"setEventListeners",value:function(){var t=this;k(L(a.prototype),"setEventListeners",this).call(this),this._popup.addEventListener("submit",(function(e){e.preventDefault(),t._getInputValues(),t._handlerFormSubmit(t._formValues),t.close()}))}},{key:"close",value:function(){k(L(a.prototype),"close",this).call(this),this._form.reset()}}])&&E(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),a}(v);function P(t){return P="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},P(t)}function C(){C=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n=Object.defineProperty||function(t,e,r){t[e]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",u=o.toStringTag||"@@toStringTag";function c(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(t){c=function(t,e,r){return t[e]=r}}function s(t,e,r,o){var i=e&&e.prototype instanceof p?e:p,a=Object.create(i.prototype),u=new j(o||[]);return n(a,"_invoke",{value:w(t,r,u)}),a}function l(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}t.wrap=s;var f={};function p(){}function h(){}function y(){}var v={};c(v,i,(function(){return this}));var d=Object.getPrototypeOf,m=d&&d(d(L([])));m&&m!==e&&r.call(m,i)&&(v=m);var b=y.prototype=p.prototype=Object.create(v);function _(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function g(t,e){function o(n,i,a,u){var c=l(t[n],t,i);if("throw"!==c.type){var s=c.arg,f=s.value;return f&&"object"==P(f)&&r.call(f,"__await")?e.resolve(f.__await).then((function(t){o("next",t,a,u)}),(function(t){o("throw",t,a,u)})):e.resolve(f).then((function(t){s.value=t,a(s)}),(function(t){return o("throw",t,a,u)}))}u(c.arg)}var i;n(this,"_invoke",{value:function(t,r){function n(){return new e((function(e,n){o(t,r,e,n)}))}return i=i?i.then(n,n):n()}})}function w(t,e,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return{value:void 0,done:!0}}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var u=S(a,r);if(u){if(u===f)continue;return u}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var c=l(t,e,r);if("normal"===c.type){if(n=r.done?"completed":"suspendedYield",c.arg===f)continue;return{value:c.arg,done:r.done}}"throw"===c.type&&(n="completed",r.method="throw",r.arg=c.arg)}}}function S(t,e){var r=e.method,n=t.iterator[r];if(void 0===n)return e.delegate=null,"throw"===r&&t.iterator.return&&(e.method="return",e.arg=void 0,S(t,e),"throw"===e.method)||"return"!==r&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var o=l(n,t.iterator,e.arg);if("throw"===o.type)return e.method="throw",e.arg=o.arg,e.delegate=null,f;var i=o.arg;return i?i.done?(e[t.resultName]=i.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,f):i:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,f)}function E(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function k(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function j(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(E,this),this.reset(!0)}function L(t){if(t){var e=t[i];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,o=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:O}}function O(){return{value:void 0,done:!0}}return h.prototype=y,n(b,"constructor",{value:y,configurable:!0}),n(y,"constructor",{value:h,configurable:!0}),h.displayName=c(y,u,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===h||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,y):(t.__proto__=y,c(t,u,"GeneratorFunction")),t.prototype=Object.create(b),t},t.awrap=function(t){return{__await:t}},_(g.prototype),c(g.prototype,a,(function(){return this})),t.AsyncIterator=g,t.async=function(e,r,n,o,i){void 0===i&&(i=Promise);var a=new g(s(e,r,n,o),i);return t.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},_(b),c(b,u,"Generator"),c(b,i,(function(){return this})),c(b,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},t.values=L,j.prototype={constructor:j,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(k),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return a.type="throw",a.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var u=r.call(i,"catchLoc"),c=r.call(i,"finallyLoc");if(u&&c){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(u){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,f):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),f},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),k(r),f}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;k(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:L(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},t}function x(t,e,r,n,o,i,a){try{var u=t[i](a),c=u.value}catch(t){return void r(t)}u.done?e(c):Promise.resolve(c).then(n,o)}function I(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){x(i,n,o,a,u,"next",t)}function u(t){x(i,n,o,a,u,"throw",t)}a(void 0)}))}}function q(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==P(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==P(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===P(o)?o:String(o)),n)}var o}var T=function(t){return t.ok?t.json():Promise.reject("Ошибка: ".concat(t.status))},B=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.baseUrl=e.baseUrl,this.headers=e.headers}var e,r,n,o,i,a,u,c,s;return e=t,r=[{key:"_fetch",value:(s=I(C().mark((function t(e,r,n){var o;return C().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("".concat(this.baseUrl,"/").concat(e),{method:r,headers:this.headers,body:JSON.stringify(n)});case 2:return o=t.sent,t.abrupt("return",T(o));case 4:case"end":return t.stop()}}),t,this)}))),function(t,e,r){return s.apply(this,arguments)})},{key:"getInitialCards",value:(c=I(C().mark((function t(){return C().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this._fetch("cards","GET");case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t,this)}))),function(){return c.apply(this,arguments)})},{key:"getUserInfo",value:(u=I(C().mark((function t(){return C().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this._fetch("users/me","GET");case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t,this)}))),function(){return u.apply(this,arguments)})},{key:"setUserInfo",value:(a=I(C().mark((function t(e){return C().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this._fetch("users/me","PATCH",e);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t,this)}))),function(t){return a.apply(this,arguments)})},{key:"addCard",value:(i=I(C().mark((function t(e){return C().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this._fetch("cards","POST",e);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t,this)}))),function(t){return i.apply(this,arguments)})},{key:"changeAvatar",value:(o=I(C().mark((function t(e){var r;return C().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r={avatar:e},t.next=3,this._fetch("users/me/avatar","PATCH",r);case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}}),t,this)}))),function(t){return o.apply(this,arguments)})},{key:"deleteCard",value:(n=I(C().mark((function t(e){return C().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this._fetch("cards/".concat(e),"DELETE");case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t,this)}))),function(t){return n.apply(this,arguments)})}],r&&q(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),t}(),R=document.querySelector(".profile__popup-open"),N=document.querySelector(".popup_type_editing"),V=document.querySelector(".popup_type_add-card"),U=document.querySelector(".popup_type_change-avatar"),A=(document.querySelector(".popup_type_delete-card"),document.querySelector("#name")),G=document.querySelector("#job"),D=document.querySelector(".add-button"),F=document.forms.editing,J=document.forms["add-card"],H=document.forms["change-avatar"],M=document.querySelector(".popup_type_image"),Y=document.querySelector("#card"),z=document.querySelector(".gallery"),K=document.querySelector(".profile__change-avatar-button"),Q=(document.querySelector("#delete-agreement-button"),document.querySelector(".gallery__delete-button"),new Map([[F.name,new i(a,F)],[J.name,new i(a,J)],[H.name,new i(a,H)]]));function W(t){var e=new r(t.name,t.link,t.likes,t.owner._id,Y,$);X.getUserInfo().then((function(t){var r=t._id;return e.generateCard(r)}))}Q.forEach((function(t){t.enableValidation()}));var X=new B({baseUrl:"https://mesto.nomoreparties.co/v1/cohort-60",headers:{authorization:"aa16a549-ea43-4766-9300-1c2b0845ff0c","Content-Type":"application/json"}});X.getInitialCards().then((function(t){var e=new s({items:t,renderer:function(t){var r=W(t);e.addItem(r)}},z);e.renderItems()})).catch((function(t){console.log(t)})),X.getUserInfo().then((function(t){tt.setUserInfo(t);var e=document.querySelector(".profile__avatar");e.src=t.avatar,e.alt=t.name})).catch((function(t){console.log("Error fetching user data:",t)}));var Z=new w(M);function $(){Z.open(this._link,this._name)}Z.setEventListeners();var tt=new p({userName:".profile__full-name",userJob:".profile__job"}),et=new O(N,(function(t){tt.setUserInfo(t)}));R.addEventListener("click",(function(){var t=tt.getUserInfo(),e=t.name,r=t.about;A.value=e,G.value=r,et.open(),Q.get(F.name).resetValidation()})),et.setEventListeners();var rt=new O(V,(function(t){X.addCard(t).then((function(t){var e=W(t),r=new s({items:t,renderer:function(t){var e=W(t);r.addItem(e)}},z);r.addItem(e),rt.close()})).catch((function(t){console.log(t)}))}));D.addEventListener("click",(function(){rt.open(),Q.get(J.name).resetValidation()}));var nt=new O(U,(function(){var t=document.querySelector("#avatar-link").value;X.changeAvatar(t).then((function(t){var e=document.querySelector(".profile__avatar");e.src=t.avatar,e.alt=t.name,nt.close()})).catch((function(t){console.log(t)}))}));K.addEventListener("click",(function(){nt.open(),Q.get(H.name).resetValidation()})),nt.setEventListeners(),rt.setEventListeners()})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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dG8vLi9zcmMvY29tcG9uZW50cy9DYXJkLmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL2NvbXBvbmVudHMvRm9ybVZhbGlkYXRvci5qcyIsIndlYnBhY2s6Ly9tZXN0by8uL3NyYy91dGlscy9jb25zdGFudHMuanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvY29tcG9uZW50cy9TZWN0aW9uLmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL2NvbXBvbmVudHMvVXNlckluZm8uanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvY29tcG9uZW50cy9Qb3B1cC5qcyIsIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9jb21wb25lbnRzL1BvcHVwV2l0aEltYWdlLmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL2NvbXBvbmVudHMvUG9wdXBXaXRoRm9ybS5qcyIsIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9jb21wb25lbnRzL0FwaS5qcyIsIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9wYWdlcy9pbmRleC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgY2xhc3MgQ2FyZCB7XG4gIGNvbnN0cnVjdG9yKG5hbWUsIGxpbmssIGxpa2VzLCBvd25lcklkLCBjYXJkVGVtcGxhdGUsIGhhbmRsZUNhcmRDbGljaykge1xuICAgIHRoaXMuX2NhcmRUZW1wbGF0ZSA9IGNhcmRUZW1wbGF0ZTtcbiAgICB0aGlzLl9jYXJkID0gdGhpcy5fY3JlYXRlQ2FyZCgpO1xuICAgIHRoaXMuX2ltYWdlID0gdGhpcy5fY2FyZC5xdWVyeVNlbGVjdG9yKCcuZ2FsbGVyeV9faW1hZ2UnKTtcbiAgICB0aGlzLl9kZWxldGVCdXR0b24gPSB0aGlzLl9jYXJkLnF1ZXJ5U2VsZWN0b3IoJy5nYWxsZXJ5X19kZWxldGUtYnV0dG9uJyk7XG4gICAgdGhpcy5fY2FwdGlvbiA9IHRoaXMuX2NhcmQucXVlcnlTZWxlY3RvcignLmdhbGxlcnlfX2NhcHRpb24nKTtcbiAgICB0aGlzLl9wbGFjZU5hbWUgPSB0aGlzLl9jYXJkLnF1ZXJ5U2VsZWN0b3IoJy5nYWxsZXJ5X19wbGFjZS1uYW1lJyk7XG4gICAgdGhpcy5fbGlrZSA9IHRoaXMuX2NhcmQucXVlcnlTZWxlY3RvcignLmdhbGxlcnlfX2xpa2UtYnV0dG9uJyk7XG4gICAgdGhpcy5fbGlrZUNvdW50ZXIgPSB0aGlzLl9jYXJkLnF1ZXJ5U2VsZWN0b3IoJy5nYWxsZXJ5X19saWtlcy1jb3VudCcpO1xuICAgIHRoaXMuX2xpbmsgPSBsaW5rO1xuICAgIHRoaXMuX25hbWUgPSBuYW1lO1xuICAgIHRoaXMuX2xpa2VzID0gbGlrZXM7XG4gICAgdGhpcy5fb3duZXJJZCA9IG93bmVySWQ7XG4gICAgdGhpcy5faGFuZGxlQ2FyZENsaWNrID0gaGFuZGxlQ2FyZENsaWNrO1xuICB9XG4gIFxuICBfY3JlYXRlQ2FyZCgpIHtcbiAgICByZXR1cm4gdGhpcy5fY2FyZFRlbXBsYXRlLmNvbnRlbnQucXVlcnlTZWxlY3RvcignLmdhbGxlcnlfX2NhcmQnKS5jbG9uZU5vZGUodHJ1ZSk7XG4gIH1cblxuICBfc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XG4gICAgdGhpcy5fbGlrZS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgIHRoaXMuX2hhbmRsZUxpa2VDbGljaygpO1xuICAgIH0pO1xuXG4gICAgdGhpcy5fZGVsZXRlQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgdGhpcy5faGFuZGxlRGVsZXRlQ2FyZCgpO1xuICAgIH0pO1xuXG4gICAgdGhpcy5faW1hZ2UuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICB0aGlzLl9oYW5kbGVDYXJkQ2xpY2sodGhpcy5fbmFtZSwgdGhpcy5fbGluayk7XG4gICAgfSk7XG4gIH1cblxuICBfaGFuZGxlTGlrZUNsaWNrKCkge1xuICAgIHRoaXMuX2xpa2UuY2xhc3NMaXN0LnRvZ2dsZSgnZ2FsbGVyeV9fbGlrZS1idXR0b25fYWN0aXZlJyk7XG4gIH1cblxuICBfaGFuZGxlRGVsZXRlQ2FyZCgpIHtcbiAgICB0aGlzLl9jYXJkLnJlbW92ZSgpO1xuICB9XG5cbiAgZ2VuZXJhdGVDYXJkKGN1cnJlbnRVc2VySWQpIHtcbiAgICB0aGlzLl9pbWFnZS5zcmMgPSB0aGlzLl9saW5rO1xuICAgIHRoaXMuX2ltYWdlLmFsdCA9IHRoaXMuX25hbWU7XG4gICAgdGhpcy5fbGlrZUNvdW50ZXIudGV4dENvbnRlbnQgPSB0aGlzLl9saWtlcy5sZW5ndGg7XG4gICAgdGhpcy5fcGxhY2VOYW1lLnRleHRDb250ZW50ID0gdGhpcy5fbmFtZTtcbiAgICB0aGlzLl9zZXRFdmVudExpc3RlbmVycygpO1xuXG4gICAgaWYgKHRoaXMuX293bmVySWQgPT09IGN1cnJlbnRVc2VySWQpIHtcbiAgICAgIHRoaXMuX2RlbGV0ZUJ1dHRvbi5jbGFzc0xpc3QuYWRkKCdnYWxsZXJ5X19kZWxldGUtYnV0dG9uX3Zpc2libGUnKTtcbiAgICB9XG5cbiAgICByZXR1cm4gdGhpcy5fY2FyZDtcbiAgfVxufSIsImV4cG9ydCBjbGFzcyBGb3JtVmFsaWRhdG9yIHtcbiAgY29uc3RydWN0b3IoY29uZmlnLCBmb3JtRWxlbWVudCkge1xuICAgIHRoaXMuX2Zvcm0gPSBmb3JtRWxlbWVudDtcbiAgICB0aGlzLl9mb3JtU2VsZWN0b3IgPSBjb25maWcuZm9ybVNlbGVjdG9yO1xuICAgIHRoaXMuX2lucHV0U2VsZWN0b3IgPSBjb25maWcuaW5wdXRTZWxlY3RvcjtcbiAgICB0aGlzLl9zdWJtaXRCdXR0b25TZWxlY3RvciA9IGNvbmZpZy5zdWJtaXRCdXR0b25TZWxlY3RvcjtcbiAgICB0aGlzLl9pbmFjdGl2ZUJ1dHRvbkNsYXNzID0gY29uZmlnLmluYWN0aXZlQnV0dG9uQ2xhc3M7XG4gICAgdGhpcy5faW5wdXRFcnJvckNsYXNzID0gY29uZmlnLmlucHV0RXJyb3JDbGFzcztcbiAgICB0aGlzLl9lcnJvckNsYXNzID0gY29uZmlnLmVycm9yQ2xhc3M7XG4gICAgdGhpcy5fc3BhbkVycm9ycyA9IEFycmF5LmZyb20oZm9ybUVsZW1lbnQucXVlcnlTZWxlY3RvckFsbChjb25maWcuc3BhbkVycm9yU2VsZWN0b3IpKTtcbiAgICB0aGlzLl9pbnB1dExpc3QgPSBBcnJheS5mcm9tKGZvcm1FbGVtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoY29uZmlnLmlucHV0U2VsZWN0b3IpKTtcbiAgfVxuXG4gIF9zaG93SW5wdXRFcnJvcihpbnB1dEVsZW1lbnQpIHtcbiAgICB0aGlzLl9lcnJvckVsZW1lbnQgPSB0aGlzLl9mb3JtLnF1ZXJ5U2VsZWN0b3IoYC4ke2lucHV0RWxlbWVudC5pZH0tZXJyb3JgKTtcblxuICAgIHRoaXMuX2Vycm9yRWxlbWVudC5jbGFzc0xpc3QuYWRkKHRoaXMuX2Vycm9yQ2xhc3MpO1xuICAgIHRoaXMuX2Vycm9yRWxlbWVudC50ZXh0Q29udGVudCA9IGlucHV0RWxlbWVudC52YWxpZGF0aW9uTWVzc2FnZTtcbiAgICBpbnB1dEVsZW1lbnQuY2xhc3NMaXN0LmFkZCh0aGlzLl9pbnB1dEVycm9yQ2xhc3MpO1xuICB9O1xuXG4gIF9oaWRlSW5wdXRFcnJvcihpbnB1dEVsZW1lbnQpIHtcbiAgICB0aGlzLl9lcnJvckVsZW1lbnQgPSB0aGlzLl9mb3JtLnF1ZXJ5U2VsZWN0b3IoYC4ke2lucHV0RWxlbWVudC5pZH0tZXJyb3JgKTtcbiAgICB0aGlzLl9lcnJvckVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZSh0aGlzLl9lcnJvckNsYXNzKTtcbiAgICB0aGlzLl9lcnJvckVsZW1lbnQudGV4dENvbnRlbnQgPSAnJztcbiAgICBpbnB1dEVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZSh0aGlzLl9pbnB1dEVycm9yQ2xhc3MpO1xuICB9O1xuXG4gIF9jaGVja0lucHV0VmFsaWRpdHkoaW5wdXRFbGVtZW50KSB7XG4gICAgaWYgKGlucHV0RWxlbWVudC52YWxpZGl0eS52YWxpZCkge1xuICAgICAgdGhpcy5faGlkZUlucHV0RXJyb3IoaW5wdXRFbGVtZW50KTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5fc2hvd0lucHV0RXJyb3IoaW5wdXRFbGVtZW50KVxuICAgIH1cbiAgfTtcblxuICBfaGFzSW52YWxpZElucHV0KCkge1xuICAgIHJldHVybiB0aGlzLl9pbnB1dExpc3Quc29tZSgoaW5wdXRFbGVtZW50KSA9PiAhaW5wdXRFbGVtZW50LnZhbGlkaXR5LnZhbGlkKTtcbiAgfTtcblxuICBfdG9nZ2xlQnV0dG9uU3RhdGUoKXtcbiAgICBpZiAodGhpcy5faGFzSW52YWxpZElucHV0KCkpIHtcbiAgICAgIHRoaXMuX2J1dHRvbkVsZW1lbnQuY2xhc3NMaXN0LmFkZCh0aGlzLl9pbmFjdGl2ZUJ1dHRvbkNsYXNzKTtcbiAgICAgIHRoaXMuX2J1dHRvbkVsZW1lbnQuZGlzYWJsZWQgPSB0cnVlO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLl9idXR0b25FbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUodGhpcy5faW5hY3RpdmVCdXR0b25DbGFzcyk7XG4gICAgICB0aGlzLl9idXR0b25FbGVtZW50LmRpc2FibGVkID0gZmFsc2U7XG4gICAgfVxuICB9O1xuXG4gIF9zZXRFdmVudExpc3RlbmVycygpIHtcbiAgICB0aGlzLl9idXR0b25FbGVtZW50ID0gdGhpcy5fZm9ybS5xdWVyeVNlbGVjdG9yKHRoaXMuX3N1Ym1pdEJ1dHRvblNlbGVjdG9yKTtcblxuICAgIHRoaXMuX3RvZ2dsZUJ1dHRvblN0YXRlKCk7XG5cbiAgICB0aGlzLl9pbnB1dExpc3QuZm9yRWFjaCgoaW5wdXRFbGVtZW50KSA9PiB7XG4gICAgICBpbnB1dEVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignaW5wdXQnLCAoKSA9PiB7IFxuICAgICAgICAgIHRoaXMuX2NoZWNrSW5wdXRWYWxpZGl0eShpbnB1dEVsZW1lbnQpO1xuICAgICAgICAgIHRoaXMuX3RvZ2dsZUJ1dHRvblN0YXRlKCk7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfVxuICBcbiAgcmVzZXRWYWxpZGF0aW9uKCkge1xuICAgIHRoaXMuX3RvZ2dsZUJ1dHRvblN0YXRlKCk7XG5cbiAgICB0aGlzLl9pbnB1dExpc3QuZm9yRWFjaCgoaW5wdXQpID0+IHtcbiAgICAgIHRoaXMuX2hpZGVJbnB1dEVycm9yKGlucHV0KVxuICAgIH0pO1xuXG4gIH1cblxuICBlbmFibGVWYWxpZGF0aW9uKCkge1xuICAgIHRoaXMuX3NldEV2ZW50TGlzdGVuZXJzKClcbiAgfVxufVxuIiwiLy8g0YHQv9C40YHQvtC6INC60LDRgNGC0L7Rh9C10Log0LTQu9GPINC30LDQs9GA0YPQt9C60Lgg0YHRgtGA0LDQvdC40YbRi1xuZXhwb3J0IGNvbnN0IGluaXRpYWxDYXJkcyA9IFtcbiAge1xuICAgIG5hbWU6ICfQkNGA0YXRi9C3JyxcbiAgICBsaW5rOiAnaHR0cHM6Ly9waWN0dXJlcy5zMy55YW5kZXgubmV0L2Zyb250ZW5kLWRldmVsb3Blci9jYXJkcy1jb21wcmVzc2VkL2Fya2h5ei5qcGcnXG4gIH0sXG4gIHtcbiAgICBuYW1lOiAn0KfQtdC70Y/QsdC40L3RgdC60LDRjyDQvtCx0LvQsNGB0YLRjCcsXG4gICAgbGluazogJ2h0dHBzOi8vcGljdHVyZXMuczMueWFuZGV4Lm5ldC9mcm9udGVuZC1kZXZlbG9wZXIvY2FyZHMtY29tcHJlc3NlZC9jaGVseWFiaW5zay1vYmxhc3QuanBnJ1xuICB9LFxuICB7XG4gICAgbmFtZTogJ9CY0LLQsNC90L7QstC+JyxcbiAgICBsaW5rOiAnaHR0cHM6Ly9waWN0dXJlcy5zMy55YW5kZXgubmV0L2Zyb250ZW5kLWRldmVsb3Blci9jYXJkcy1jb21wcmVzc2VkL2l2YW5vdm8uanBnJ1xuICB9LFxuICB7XG4gICAgbmFtZTogJ9Ca0LDQvNGH0LDRgtC60LAnLFxuICAgIGxpbms6ICdodHRwczovL3BpY3R1cmVzLnMzLnlhbmRleC5uZXQvZnJvbnRlbmQtZGV2ZWxvcGVyL2NhcmRzLWNvbXByZXNzZWQva2FtY2hhdGthLmpwZydcbiAgfSxcbiAge1xuICAgIG5hbWU6ICfQpdC+0LvQvNC+0LPQvtGA0YHQutC40Lkg0YDQsNC50L7QvScsXG4gICAgbGluazogJ2h0dHBzOi8vcGljdHVyZXMuczMueWFuZGV4Lm5ldC9mcm9udGVuZC1kZXZlbG9wZXIvY2FyZHMtY29tcHJlc3NlZC9raG9sbW9nb3Jza3ktcmF5b24uanBnJ1xuICB9LFxuICB7XG4gICAgbmFtZTogJ9CR0LDQudC60LDQuycsXG4gICAgbGluazogJ2h0dHBzOi8vcGljdHVyZXMuczMueWFuZGV4Lm5ldC9mcm9udGVuZC1kZXZlbG9wZXIvY2FyZHMtY29tcHJlc3NlZC9iYWlrYWwuanBnJ1xuICB9XG5dO1xuXG4vL9C+0LHRitC10LrRgiDQvdCw0YHRgtGA0L7QtdC6INGBINGB0LXQu9C10LrRgtC+0YDQsNC80Lgg0Lgg0LrQu9Cw0YHRgdCw0LzQuCDRhNC+0YDQvNGLXG5leHBvcnQgY29uc3QgdmFsaWRhdGlvbkNvbmZpZyA9IHtcbiAgZm9ybVNlbGVjdG9yOiAnLnBvcHVwX19jb250YWluZXInLFxuICBpbnB1dFNlbGVjdG9yOiAnLnBvcHVwX190ZXh0JyxcbiAgc3VibWl0QnV0dG9uU2VsZWN0b3I6ICcucG9wdXBfX2J1dHRvbicsXG4gIGluYWN0aXZlQnV0dG9uQ2xhc3M6ICdwb3B1cF9fYnV0dG9uX2luYWN0aXZlJyxcbiAgaW5wdXRFcnJvckNsYXNzOiAncG9wdXBfX3RleHRfdHlwZV9lcnJvcicsXG4gIGVycm9yQ2xhc3M6ICdwb3B1cF9fdGV4dC1lcnJvcl92aXNpYmxlJyxcbiAgc3BhbkVycm9yU2VsZWN0b3I6ICcucG9wdXBfX3NwYW4tZXJyb3InLFxufTsiLCJleHBvcnQgY2xhc3MgU2VjdGlvbiB7XG4gIGNvbnN0cnVjdG9yKHsgaXRlbXMsIHJlbmRlcmVyIH0sIGNvbnRhaW5lciwgYXBwZW5kID0gZmFsc2UpIHtcbiAgICB0aGlzLl9pdGVtcyA9IGl0ZW1zO1xuICAgIHRoaXMuX3JlbmRlcmVyID0gcmVuZGVyZXI7XG4gICAgdGhpcy5fY29udGFpbmVyID0gY29udGFpbmVyO1xuICAgIHRoaXMuX2FwcGVuZCA9IGFwcGVuZDtcbiAgfVxuXG4gIHJlbmRlckl0ZW1zKCkge1xuICAgIHRoaXMuX2l0ZW1zLmZvckVhY2goaXRlbSA9PiB7XG4gICAgICB0aGlzLl9yZW5kZXJlcihpdGVtKTtcbiAgICB9KTtcbiAgfVxuXG4gIGFkZEl0ZW0oaXRlbSkge1xuICAgIGlmICh0aGlzLl9hcHBlbmQpIHtcbiAgICAgIHRoaXMuX2NvbnRhaW5lci5hcHBlbmQoaXRlbSlcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5fY29udGFpbmVyLnByZXBlbmQoaXRlbSlcbiAgICB9XG4gIH1cbn0iLCJleHBvcnQgY2xhc3MgVXNlckluZm8ge1xuICBjb25zdHJ1Y3Rvcih7IHVzZXJOYW1lLCB1c2VySm9iIH0pIHtcbiAgICB0aGlzLl91c2VyTmFtZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IodXNlck5hbWUpO1xuICAgIHRoaXMuX3VzZXJKb2IgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHVzZXJKb2IpO1xuICB9XG5cbiAgZ2V0VXNlckluZm8oKSB7XG4gICAgY29uc3QgdXNlckRhdGEgPSB7XG4gICAgICBuYW1lOiB0aGlzLl91c2VyTmFtZS50ZXh0Q29udGVudCxcbiAgICAgIGFib3V0OiB0aGlzLl91c2VySm9iLnRleHRDb250ZW50XG4gICAgfVxuICAgIHJldHVybiB1c2VyRGF0YVxuICB9XG5cbiAgc2V0VXNlckluZm8oZGF0YSkge1xuICAgIHRoaXMuX3VzZXJOYW1lLnRleHRDb250ZW50ID0gZGF0YS5uYW1lO1xuICAgIHRoaXMuX3VzZXJKb2IudGV4dENvbnRlbnQgPSBkYXRhLmFib3V0O1xuICB9XG59IiwiZXhwb3J0IGNsYXNzIFBvcHVwIHtcbiAgY29uc3RydWN0b3IocG9wdXApIHtcbiAgICB0aGlzLl9wb3B1cCA9IHBvcHVwO1xuICAgIHRoaXMuX2hhbmRsZUVzY0Nsb3NlID0gdGhpcy5faGFuZGxlRXNjQ2xvc2UuYmluZCh0aGlzKTtcbiAgfVxuXG4gIG9wZW4oKSB7XG4gICAgdGhpcy5fcG9wdXAuY2xhc3NMaXN0LmFkZCgncG9wdXBfb3BlbmVkJyk7XG4gICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIHRoaXMuX2hhbmRsZUVzY0Nsb3NlKTtcbiAgfVxuXG4gIGNsb3NlKCkge1xuICAgIHRoaXMuX3BvcHVwLmNsYXNzTGlzdC5yZW1vdmUoJ3BvcHVwX29wZW5lZCcpO1xuICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCB0aGlzLl9oYW5kbGVFc2NDbG9zZSk7XG4gIH1cblxuICBfaGFuZGxlRXNjQ2xvc2UoZXZ0KSB7XG4gICAgaWYgKGV2dC5rZXkgPT09IFwiRXNjYXBlXCIpIHtcbiAgICAgIHRoaXMuY2xvc2UoKTtcbiAgICB9XG4gIH1cblxuICBzZXRFdmVudExpc3RlbmVycygpIHtcbiAgICB0aGlzLl9wb3B1cC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWRvd24nLCAoZXZ0KSA9PiB7XG4gICAgICBpZiAoZXZ0LnRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoJ3BvcHVwX29wZW5lZCcpIHx8IGV2dC50YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKCdwb3B1cF9fY2xvc2UtYnV0dG9uJykpIHtcbiAgICAgICAgdGhpcy5jbG9zZSgpO1xuICAgICAgfVxuICAgIH0pXG4gIH1cbn0iLCJpbXBvcnQgeyBQb3B1cCB9IGZyb20gJy4vUG9wdXAuanMnO1xuXG5leHBvcnQgY2xhc3MgUG9wdXBXaXRoSW1hZ2UgZXh0ZW5kcyBQb3B1cCB7XG4gIGNvbnN0cnVjdG9yKHBvcHVwKSB7XG4gICAgc3VwZXIocG9wdXApO1xuXG4gICAgdGhpcy5fcG9wdXBJbWFnZSA9IHRoaXMuX3BvcHVwLnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cF9faW1hZ2UnKTtcbiAgICB0aGlzLl9wb3B1cENhcHRpb24gPSB0aGlzLl9wb3B1cC5xdWVyeVNlbGVjdG9yKCcucG9wdXBfX2NhcHRpb24nKTtcbiAgfVxuXG4gIG9wZW4obGluaywgbmFtZSkge1xuICAgIHRoaXMuX3BvcHVwSW1hZ2Uuc3JjID0gbGluaztcbiAgICB0aGlzLl9wb3B1cEltYWdlLmFsdCA9IG5hbWU7XG4gICAgdGhpcy5fcG9wdXBDYXB0aW9uLnRleHRDb250ZW50ID0gbmFtZTtcblxuICAgIHN1cGVyLm9wZW4oKTtcbiAgfVxufSIsImltcG9ydCB7IFBvcHVwIH0gZnJvbSAnLi9Qb3B1cC5qcyc7XG5cbmV4cG9ydCBjbGFzcyBQb3B1cFdpdGhGb3JtIGV4dGVuZHMgUG9wdXAge1xuICBjb25zdHJ1Y3Rvcihwb3B1cCwgaGFuZGxlckZvcm1TdWJtaXQpIHtcbiAgICBzdXBlcihwb3B1cCk7XG4gICAgXG4gICAgdGhpcy5faGFuZGxlckZvcm1TdWJtaXQgPSBoYW5kbGVyRm9ybVN1Ym1pdDtcbiAgICB0aGlzLl9pbnB1dHMgPSB0aGlzLl9wb3B1cC5xdWVyeVNlbGVjdG9yQWxsKCcucG9wdXBfX3RleHQnKTtcbiAgICB0aGlzLl9mb3JtID0gdGhpcy5fcG9wdXAucXVlcnlTZWxlY3RvcignLnBvcHVwX19jb250YWluZXInKTtcbiAgfVxuXG4gIF9nZXRJbnB1dFZhbHVlcygpIHtcbiAgICB0aGlzLl9mb3JtVmFsdWVzID0ge307XG4gICAgdGhpcy5faW5wdXRzLmZvckVhY2goKGlucHV0KSA9PiB7XG4gICAgICB0aGlzLl9mb3JtVmFsdWVzW2lucHV0Lm5hbWVdID0gaW5wdXQudmFsdWU7XG4gICAgfSk7XG4gICAgcmV0dXJuIHRoaXMuX2Zvcm1WYWx1ZXM7XG4gIH1cblxuICBzZXRFdmVudExpc3RlbmVycygpIHtcbiAgICBzdXBlci5zZXRFdmVudExpc3RlbmVycygpO1xuICAgIHRoaXMuX3BvcHVwLmFkZEV2ZW50TGlzdGVuZXIoJ3N1Ym1pdCcsIChldnQpID0+IHtcbiAgICAgIGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgdGhpcy5fZ2V0SW5wdXRWYWx1ZXMoKTtcbiAgICAgIHRoaXMuX2hhbmRsZXJGb3JtU3VibWl0KHRoaXMuX2Zvcm1WYWx1ZXMpO1xuICAgICAgdGhpcy5jbG9zZSgpO1xuICAgIH0pXG4gIH1cblxuICBjbG9zZSgpIHtcbiAgICBzdXBlci5jbG9zZSgpO1xuICAgIHRoaXMuX2Zvcm0ucmVzZXQoKTtcbiAgfVxufSIsImNvbnN0IGhhbmRsZVJlc3BvbnNlID0gKHJlcykgPT4ge1xuICBpZiAocmVzLm9rKSB7XG4gICAgcmV0dXJuIHJlcy5qc29uKCk7XG4gIH1cbiAgcmV0dXJuIFByb21pc2UucmVqZWN0KGDQntGI0LjQsdC60LA6ICR7cmVzLnN0YXR1c31gKTtcbn1cblxuZXhwb3J0IGNsYXNzIEFwaSB7XG4gIGNvbnN0cnVjdG9yKGNvbmZpZykge1xuICAgIHRoaXMuYmFzZVVybCA9IGNvbmZpZy5iYXNlVXJsO1xuICAgIHRoaXMuaGVhZGVycyA9IGNvbmZpZy5oZWFkZXJzO1xuICB9XG5cbiAgYXN5bmMgX2ZldGNoKHNsdWcsIG1ldGhvZCwgYm9keSkge1xuICAgIGNvbnN0IHJlcyA9IGF3YWl0IGZldGNoKGAke3RoaXMuYmFzZVVybH0vJHtzbHVnfWAsIHtcbiAgICAgIG1ldGhvZDogbWV0aG9kLFxuICAgICAgaGVhZGVyczogdGhpcy5oZWFkZXJzLFxuICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoYm9keSlcbiAgICB9KTtcbiAgICByZXR1cm4gaGFuZGxlUmVzcG9uc2UocmVzKTtcbiAgfVxuXG4gIGFzeW5jIGdldEluaXRpYWxDYXJkcygpIHtcbiAgICByZXR1cm4gYXdhaXQgdGhpcy5fZmV0Y2goJ2NhcmRzJywgJ0dFVCcpO1xuICB9XG5cbiAgYXN5bmMgZ2V0VXNlckluZm8oKSB7XG4gICAgcmV0dXJuIGF3YWl0IHRoaXMuX2ZldGNoKCd1c2Vycy9tZScsICdHRVQnKTtcbiAgfVxuXG4gIGFzeW5jIHNldFVzZXJJbmZvKGRhdGEpIHtcbiAgICByZXR1cm4gYXdhaXQgdGhpcy5fZmV0Y2goJ3VzZXJzL21lJywgJ1BBVENIJywgZGF0YSk7XG4gIH1cblxuICBhc3luYyBhZGRDYXJkKGRhdGEpIHtcbiAgICByZXR1cm4gYXdhaXQgdGhpcy5fZmV0Y2goJ2NhcmRzJywgJ1BPU1QnLCBkYXRhKTtcbiAgfVxuXG4gIGFzeW5jIGNoYW5nZUF2YXRhcihhdmF0YXJVcmwpIHtcbiAgICBjb25zdCBhdmF0YXIgPSB7YXZhdGFyOiBhdmF0YXJVcmx9O1xuICAgIHJldHVybiBhd2FpdCB0aGlzLl9mZXRjaCgndXNlcnMvbWUvYXZhdGFyJywgJ1BBVENIJywgYXZhdGFyKTtcbiAgfVxuXG4gIGFzeW5jIGRlbGV0ZUNhcmQoY2FyZElkKSB7XG4gICAgcmV0dXJuIGF3YWl0IHRoaXMuX2ZldGNoKGBjYXJkcy8ke2NhcmRJZH1gLCAnREVMRVRFJyk7XG4gIH1cbn0iLCJpbXBvcnQgJy4vaW5kZXguY3NzJztcblxuaW1wb3J0IHsgQ2FyZCB9IGZyb20gJy4uL2NvbXBvbmVudHMvQ2FyZC5qcyc7XG5pbXBvcnQgeyBGb3JtVmFsaWRhdG9yIH0gZnJvbSAnLi4vY29tcG9uZW50cy9Gb3JtVmFsaWRhdG9yLmpzJztcbmltcG9ydCB7IGluaXRpYWxDYXJkcywgdmFsaWRhdGlvbkNvbmZpZyB9IGZyb20gJy4uL3V0aWxzL2NvbnN0YW50cy5qcyc7XG5cbmltcG9ydCB7IFNlY3Rpb24gfSBmcm9tICcuLi9jb21wb25lbnRzL1NlY3Rpb24uanMnO1xuaW1wb3J0IHsgVXNlckluZm8gfSBmcm9tICcuLi9jb21wb25lbnRzL1VzZXJJbmZvLmpzJztcbmltcG9ydCB7IFBvcHVwV2l0aEltYWdlIH0gZnJvbSAnLi4vY29tcG9uZW50cy9Qb3B1cFdpdGhJbWFnZS5qcyc7XG5pbXBvcnQgeyBQb3B1cFdpdGhGb3JtIH0gZnJvbSAnLi4vY29tcG9uZW50cy9Qb3B1cFdpdGhGb3JtLmpzJztcblxuaW1wb3J0IHsgQXBpIH0gZnJvbSAnLi4vY29tcG9uZW50cy9BcGkuanMnO1xuaW1wb3J0IHsgUG9wdXBXaXRoQnV0dG9uIH0gZnJvbSAnLi4vY29tcG9uZW50cy9Qb3B1cFdpdGhCdXR0b24uanMnO1xuXG5jb25zdCBlZGl0UG9wdXBCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucHJvZmlsZV9fcG9wdXAtb3BlbicpO1xuXG5jb25zdCBwb3B1cEVkaXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucG9wdXBfdHlwZV9lZGl0aW5nJyk7XG5jb25zdCBwb3B1cEFkZEltYWdlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnBvcHVwX3R5cGVfYWRkLWNhcmQnKTtcbmNvbnN0IHBvcHVwQ2hhbmdlQXZhdGFyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnBvcHVwX3R5cGVfY2hhbmdlLWF2YXRhcicpO1xuY29uc3QgcG9wdXBEZWxldGVDYXJkID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnBvcHVwX3R5cGVfZGVsZXRlLWNhcmQnKTtcblxuY29uc3QgaW5wdXROYW1lID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI25hbWUnKTtcbmNvbnN0IGlucHV0Sm9iID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2pvYicpO1xuXG5jb25zdCBvcGVuQWRkRm9ybUJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5hZGQtYnV0dG9uJyk7XG5cbmNvbnN0IGVkaXRGb3JtID0gZG9jdW1lbnQuZm9ybXNbJ2VkaXRpbmcnXTtcbmNvbnN0IGFkZENhcmRGb3JtID0gZG9jdW1lbnQuZm9ybXNbJ2FkZC1jYXJkJ107XG5jb25zdCBjaGFuZ2VBdmF0YXJGb3JtID0gZG9jdW1lbnQuZm9ybXNbJ2NoYW5nZS1hdmF0YXInXTtcbmNvbnN0IGJpZ1Bob3RvID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnBvcHVwX3R5cGVfaW1hZ2UnKTtcblxuY29uc3QgY2FyZFRlbXBsYXRlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2NhcmQnKTtcblxuY29uc3QgY29udGFpbmVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmdhbGxlcnknKTtcblxuY29uc3Qgb3BlbkNoYW5nZUF2YXRhckJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wcm9maWxlX19jaGFuZ2UtYXZhdGFyLWJ1dHRvbicpO1xuY29uc3QgZGVsZXRlQWdyZWVtZW50QnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2RlbGV0ZS1hZ3JlZW1lbnQtYnV0dG9uJyk7XG5jb25zdCB0cmFzaEJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5nYWxsZXJ5X19kZWxldGUtYnV0dG9uJyk7XG5cbi8vINC00L7QsdCw0LLQu9C10L3QuNC1INCy0LDQu9C40LTQsNGG0LjQuFxuY29uc3QgdmFsaWRhdG9ycyA9IG5ldyBNYXAoW1xuICBbZWRpdEZvcm0ubmFtZSwgbmV3IEZvcm1WYWxpZGF0b3IodmFsaWRhdGlvbkNvbmZpZywgZWRpdEZvcm0pXSxcbiAgW2FkZENhcmRGb3JtLm5hbWUsIG5ldyBGb3JtVmFsaWRhdG9yKHZhbGlkYXRpb25Db25maWcsIGFkZENhcmRGb3JtKV0sXG4gIFtjaGFuZ2VBdmF0YXJGb3JtLm5hbWUsIG5ldyBGb3JtVmFsaWRhdG9yKHZhbGlkYXRpb25Db25maWcsIGNoYW5nZUF2YXRhckZvcm0pXVxuXSk7XG5cbnZhbGlkYXRvcnMuZm9yRWFjaCgodmFsaWRhdG9yKSA9PiB7XG4gIHZhbGlkYXRvci5lbmFibGVWYWxpZGF0aW9uKCk7XG59KTtcblxuZnVuY3Rpb24gY3JlYXRlQ2FyZChpdGVtKSB7XG4gIGNvbnN0IGNhcmQgPSBuZXcgQ2FyZChpdGVtLm5hbWUsIGl0ZW0ubGluaywgaXRlbS5saWtlcywgaXRlbS5vd25lci5faWQsIGNhcmRUZW1wbGF0ZSwgaGFuZGxlQ2FyZENsaWNrKTtcbiAgYXBpLmdldFVzZXJJbmZvKClcbiAgLnRoZW4oKGRhdGEpID0+IHtcbiAgICBjb25zdCBjdXJyZW50VXNlcklkID0gZGF0YS5faWQ7XG4gICAgY29uc3QgY2FyZEVsZW1lbnQgPSBjYXJkLmdlbmVyYXRlQ2FyZChjdXJyZW50VXNlcklkKTtcbiAgICByZXR1cm4gY2FyZEVsZW1lbnQ7XG4gIH0pXG59XG5cbmNvbnN0IGNvbmZpZyA9IHtcbiAgYmFzZVVybDogJ2h0dHBzOi8vbWVzdG8ubm9tb3JlcGFydGllcy5jby92MS9jb2hvcnQtNjAnLFxuICBoZWFkZXJzOiB7XG4gICAgYXV0aG9yaXphdGlvbjogJ2FhMTZhNTQ5LWVhNDMtNDc2Ni05MzAwLTFjMmIwODQ1ZmYwYycsXG4gICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJ1xuICB9XG59O1xuXG5jb25zdCBhcGkgPSBuZXcgQXBpKGNvbmZpZyk7XG5cbi8vINC+0YLRgNC40YHQvtCy0LrQsCDQutCw0YDRgtC+0YfQtdC6INC90LAg0YHRgtGA0LDQvdC40YbQtVxuYXBpLmdldEluaXRpYWxDYXJkcygpXG4gIC50aGVuKChkYXRhKSA9PiB7XG4gICAgY29uc3QgY2FyZExpc3QgPSBuZXcgU2VjdGlvbih7XG4gICAgICBpdGVtczogZGF0YSxcbiAgICAgIHJlbmRlcmVyOiAoaXRlbSkgPT4ge1xuICAgICAgICBjb25zdCBjYXJkRWxlbWVudCA9IGNyZWF0ZUNhcmQoaXRlbSk7XG4gICAgICAgIGNhcmRMaXN0LmFkZEl0ZW0oY2FyZEVsZW1lbnQpO1xuICAgICAgfVxuICAgIH0sIGNvbnRhaW5lcik7XG5jYXJkTGlzdC5yZW5kZXJJdGVtcygpO1xufSlcbi5jYXRjaCgoZXJyKSA9PiB7XG4gIGNvbnNvbGUubG9nKGVycik7XG59KTtcblxuLy8g0L7RgtGA0LjRgdC+0LLQutCwINC00LDQvdC90YvRhSDQv9C+0LvRjNC30L7QstCw0YLQtdC70Y9cbmFwaS5nZXRVc2VySW5mbygpXG4udGhlbihkYXRhID0+IHtcbiAgdXNlckluZm8uc2V0VXNlckluZm8oZGF0YSk7XG4gIGNvbnN0IHVzZXJBdmF0YXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucHJvZmlsZV9fYXZhdGFyJyk7XG4gIHVzZXJBdmF0YXIuc3JjID0gZGF0YS5hdmF0YXI7XG4gIHVzZXJBdmF0YXIuYWx0ID0gZGF0YS5uYW1lO1xuICB9KVxuICAuY2F0Y2goZXJyID0+IHtcbiAgICBjb25zb2xlLmxvZygnRXJyb3IgZmV0Y2hpbmcgdXNlciBkYXRhOicsIGVycik7XG4gIH0pO1xuXG4vLyDQvtGC0LrRgNGL0YLQuNC1INC/0L7Qv9Cw0L/QsCDRgSDQutCw0YDRgtC40L3QutC+0Lkg0L/RgNC4INC60LvQuNC60LUg0L3QsCDQutCw0YDRgtC+0YfQutGDXG5jb25zdCBwb3B1cFdpdGhJbWFnZSA9IG5ldyBQb3B1cFdpdGhJbWFnZShiaWdQaG90byk7XG5wb3B1cFdpdGhJbWFnZS5zZXRFdmVudExpc3RlbmVycygpO1xuXG5mdW5jdGlvbiBoYW5kbGVDYXJkQ2xpY2soKSB7XG4gIHBvcHVwV2l0aEltYWdlLm9wZW4odGhpcy5fbGluaywgdGhpcy5fbmFtZSk7XG59XG5cbi8vINGE0YPQvdC60YbQuNC+0L3QsNC7INGBINC60LvQsNGB0YHQvtC8IFVzZXJJbmZvXG5jb25zdCB1c2VySW5mbyA9IG5ldyBVc2VySW5mbyh7XG4gIHVzZXJOYW1lOiAnLnByb2ZpbGVfX2Z1bGwtbmFtZScsXG4gIHVzZXJKb2I6ICcucHJvZmlsZV9fam9iJ1xufSk7XG5cbmZ1bmN0aW9uIGVkaXRGb3JtU3VibWl0KG9iaikge1xuICB1c2VySW5mby5zZXRVc2VySW5mbyhvYmopO1xufTtcblxuLy8g0Y3QutC30LXQvNC/0LvRj9GAINC/0L7Qv9Cw0L/QsCDRgNC10LTQsNC60YLQuNGA0L7QstCw0L3QuNGPINC/0YDQvtGE0LjQu9GPXG5jb25zdCBwb3B1cFdpdGhFZGl0Rm9ybSA9IG5ldyBQb3B1cFdpdGhGb3JtKHBvcHVwRWRpdCwgZWRpdEZvcm1TdWJtaXQpO1xuXG4vLyDQvtGC0LrRgNGL0YLQuNC1INC/0L7Qv9Cw0L/QsCDRgNC10LTQsNC60YLQuNGA0L7QstCw0L3QuNGPINGE0L7RgNC80YtcbmVkaXRQb3B1cEJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgY29uc3QgeyBuYW1lLCBhYm91dCB9ID0gdXNlckluZm8uZ2V0VXNlckluZm8oKTtcbiAgaW5wdXROYW1lLnZhbHVlID0gbmFtZTtcbiAgaW5wdXRKb2IudmFsdWUgPSBhYm91dDtcbiAgcG9wdXBXaXRoRWRpdEZvcm0ub3BlbigpO1xuICB2YWxpZGF0b3JzLmdldChlZGl0Rm9ybS5uYW1lKS5yZXNldFZhbGlkYXRpb24oKTtcbn0pO1xuXG4vLyDRgdCw0LHQvNC40YIg0YTQvtGA0LzRiyDRgNC10LTQsNC60YLQuNGA0L7QstCw0L3QuNGPINC/0YDQvtGE0LjQu9GPXG5wb3B1cFdpdGhFZGl0Rm9ybS5zZXRFdmVudExpc3RlbmVycygpO1xuXG4vLyDRjdC60LfQtdC80L/Qu9GP0YAg0L/QvtC/0LDQv9CwINC00L7QsdCw0LLQu9C10L3QuNGPINC60LDRgNGC0L7Rh9C60LhcbmNvbnN0IHBvcHVwV2l0aEFkZEltYWdlRm9ybSA9IG5ldyBQb3B1cFdpdGhGb3JtKHBvcHVwQWRkSW1hZ2UsIGFkZEltYWdlRm9ybVN1Ym1pdCk7XG5cbi8vINC+0YLQutGA0YvRgtC40LUg0L/QvtC/0LDQv9CwINC00L7QsdCw0LLQu9C10L3QuNGPINC60LDRgNGC0L7Rh9C60Lhcbm9wZW5BZGRGb3JtQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICBwb3B1cFdpdGhBZGRJbWFnZUZvcm0ub3BlbigpO1xuICB2YWxpZGF0b3JzLmdldChhZGRDYXJkRm9ybS5uYW1lKS5yZXNldFZhbGlkYXRpb24oKTtcbn0pXG5cbi8vINGN0LrQt9C10LzQv9C70Y/RgCDQv9C+0L/QsNC/0LAg0LjQt9C80LXQvdC10L3QuNGPINCw0LLQsNGC0LDRgNCwXG5jb25zdCBwb3B1cFdpdGhBdmF0YXJDaGFuZ2VGb3JtID0gbmV3IFBvcHVwV2l0aEZvcm0ocG9wdXBDaGFuZ2VBdmF0YXIsIGNoYW5nZUF2YXRhckZvcm1TdWJtaXQpO1xuXG4vLyDQvtGC0LrRgNGL0YLQuNC1INC/0L7Qv9Cw0L/QsCDQuNC30LzQtdC90LXQvdC40Y8g0LDQstCw0YLQsNGA0LBcbm9wZW5DaGFuZ2VBdmF0YXJCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gIHBvcHVwV2l0aEF2YXRhckNoYW5nZUZvcm0ub3BlbigpO1xuICB2YWxpZGF0b3JzLmdldChjaGFuZ2VBdmF0YXJGb3JtLm5hbWUpLnJlc2V0VmFsaWRhdGlvbigpO1xufSk7XG5cbi8vINGB0LDQsdC80LjRgiDRhNC+0YDQvNGLINC40LfQvNC10L3QtdC90LjRjyDQsNCy0LDRgtCw0YDQsFxuZnVuY3Rpb24gY2hhbmdlQXZhdGFyRm9ybVN1Ym1pdCgpIHtcbiAgY29uc3QgaW5wdXRBdmF0YXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjYXZhdGFyLWxpbmsnKTtcbiAgY29uc3QgYXZhdGFyID0gaW5wdXRBdmF0YXIudmFsdWU7XG4gIGFwaS5jaGFuZ2VBdmF0YXIoYXZhdGFyKVxuICAgIC50aGVuKChkYXRhKSA9PiB7XG4gICAgICBjb25zdCB1c2VyQXZhdGFyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnByb2ZpbGVfX2F2YXRhcicpO1xuICAgICAgdXNlckF2YXRhci5zcmMgPSBkYXRhLmF2YXRhcjtcbiAgICAgIHVzZXJBdmF0YXIuYWx0ID0gZGF0YS5uYW1lO1xuICAgICAgcG9wdXBXaXRoQXZhdGFyQ2hhbmdlRm9ybS5jbG9zZSgpO1xuICAgIH0pXG4gICAgLmNhdGNoKChlcnIpID0+IHtcbiAgICAgIGNvbnNvbGUubG9nKGVycik7XG4gICAgfSk7XG59XG5cbnBvcHVwV2l0aEF2YXRhckNoYW5nZUZvcm0uc2V0RXZlbnRMaXN0ZW5lcnMoKTtcblxuLy8g0YHQsNCx0LzQuNGCINGE0L7RgNC80Ysg0LTQvtCx0LDQstC70LXQvdC40Y8g0LrQsNGA0YLQvtGH0LrQuCwg0L3QviDRgtGD0YIg0LXRgdGC0Ywg0L/RgNC+0LHQu9C10LzQsCwg0YfRgtC+INGPINGB0L7Qt9C00LDRjiBjYXJkTGlzdCDQtNCy0LDQttC00YtcbmZ1bmN0aW9uIGFkZEltYWdlRm9ybVN1Ym1pdChvYmopIHtcbiAgYXBpLmFkZENhcmQob2JqKVxuICAgIC50aGVuKChkYXRhKSA9PiB7XG4gICAgICBjb25zdCBjYXJkRWxlbWVudCA9IGNyZWF0ZUNhcmQoZGF0YSk7XG4gICAgICBjb25zdCBjYXJkTGlzdCA9IG5ldyBTZWN0aW9uKHtcbiAgICAgICAgaXRlbXM6IGRhdGEsXG4gICAgICAgIHJlbmRlcmVyOiAoaXRlbSkgPT4ge1xuICAgICAgICAgIGNvbnN0IGNhcmRFbGVtZW50ID0gY3JlYXRlQ2FyZChpdGVtKTtcbiAgICAgICAgICBjYXJkTGlzdC5hZGRJdGVtKGNhcmRFbGVtZW50KTtcbiAgICAgICAgfVxuICAgICAgfSwgY29udGFpbmVyKTtcbiAgICAgIGNhcmRMaXN0LmFkZEl0ZW0oY2FyZEVsZW1lbnQpO1xuICAgICAgcG9wdXBXaXRoQWRkSW1hZ2VGb3JtLmNsb3NlKCk7XG4gICAgfSlcbiAgICAuY2F0Y2goKGVycikgPT4ge1xuICAgICAgY29uc29sZS5sb2coZXJyKTtcbiAgICB9KTtcbn1cblxucG9wdXBXaXRoQWRkSW1hZ2VGb3JtLnNldEV2ZW50TGlzdGVuZXJzKCk7XG5cbi8vINGN0LrQt9C10LzQv9C70Y/RgCDQv9C+0L/QsNC/0LAg0L/QvtC00YLQstC10YDQttC00LXQvdC40Y8g0YPQtNCw0LvQtdC90LjRjyDQutCw0YDRgtC+0YfQutC4XG4vLyBjb25zdCBwb3B1cFdpdGhEZWxldGVBZ3JlZW1lbnQgPSBuZXcgUG9wdXBXaXRoQnV0dG9uKHBvcHVwRGVsZXRlQ2FyZCwgZGVsZXRlQWdyZWVtZW50U3VibWl0KTtcblxuLy8g0YPQtNCw0LvQtdC90LjQtSDQutCw0YDRgtC+0YfQutC4XG4vLyB0cmFzaEJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbi8vICAgcG9wdXBXaXRoRGVsZXRlQWdyZWVtZW50Lm9wZW4oKTtcbi8vIH0pO1xuXG4vLyBmdW5jdGlvbiBkZWxldGVBZ3JlZW1lbnRTdWJtaXQoKSB7XG4vLyAgIGFwaS5kZWxldGVDYXJkKClcbi8vICAgICAudGhlbigoKSA9PiB7XG4vLyAgICAgICBwb3B1cFdpdGhEZWxldGVBZ3JlZW1lbnQuY2xvc2UoKTtcbi8vICAgICB9KVxuLy8gICAgIC5jYXRjaCgoZXJyKSA9PiB7XG4vLyAgICAgICBjb25zb2xlLmxvZyhlcnIpO1xuLy8gICAgIH0pO1xuLy8gIH0iXSwibmFtZXMiOlsiQ2FyZCIsIm5hbWUiLCJsaW5rIiwibGlrZXMiLCJvd25lcklkIiwiY2FyZFRlbXBsYXRlIiwiaGFuZGxlQ2FyZENsaWNrIiwidGhpcyIsIl9jYXJkVGVtcGxhdGUiLCJfY2FyZCIsIl9jcmVhdGVDYXJkIiwiX2ltYWdlIiwicXVlcnlTZWxlY3RvciIsIl9kZWxldGVCdXR0b24iLCJfY2FwdGlvbiIsIl9wbGFjZU5hbWUiLCJfbGlrZSIsIl9saWtlQ291bnRlciIsIl9saW5rIiwiX25hbWUiLCJfbGlrZXMiLCJfb3duZXJJZCIsIl9oYW5kbGVDYXJkQ2xpY2siLCJjb250ZW50IiwiY2xvbmVOb2RlIiwiYWRkRXZlbnRMaXN0ZW5lciIsIl9oYW5kbGVMaWtlQ2xpY2siLCJfaGFuZGxlRGVsZXRlQ2FyZCIsImNsYXNzTGlzdCIsInRvZ2dsZSIsInJlbW92ZSIsImN1cnJlbnRVc2VySWQiLCJzcmMiLCJhbHQiLCJ0ZXh0Q29udGVudCIsImxlbmd0aCIsIl9zZXRFdmVudExpc3RlbmVycyIsImFkZCIsIkZvcm1WYWxpZGF0b3IiLCJjb25maWciLCJmb3JtRWxlbWVudCIsIl9mb3JtIiwiX2Zvcm1TZWxlY3RvciIsImZvcm1TZWxlY3RvciIsIl9pbnB1dFNlbGVjdG9yIiwiaW5wdXRTZWxlY3RvciIsIl9zdWJtaXRCdXR0b25TZWxlY3RvciIsInN1Ym1pdEJ1dHRvblNlbGVjdG9yIiwiX2luYWN0aXZlQnV0dG9uQ2xhc3MiLCJpbmFjdGl2ZUJ1dHRvbkNsYXNzIiwiX2lucHV0RXJyb3JDbGFzcyIsImlucHV0RXJyb3JDbGFzcyIsIl9lcnJvckNsYXNzIiwiZXJyb3JDbGFzcyIsIl9zcGFuRXJyb3JzIiwiQXJyYXkiLCJmcm9tIiwicXVlcnlTZWxlY3RvckFsbCIsInNwYW5FcnJvclNlbGVjdG9yIiwiX2lucHV0TGlzdCIsImlucHV0RWxlbWVudCIsIl9lcnJvckVsZW1lbnQiLCJpZCIsInZhbGlkYXRpb25NZXNzYWdlIiwidmFsaWRpdHkiLCJ2YWxpZCIsIl9oaWRlSW5wdXRFcnJvciIsIl9zaG93SW5wdXRFcnJvciIsInNvbWUiLCJfaGFzSW52YWxpZElucHV0IiwiX2J1dHRvbkVsZW1lbnQiLCJkaXNhYmxlZCIsIl90b2dnbGVCdXR0b25TdGF0ZSIsImZvckVhY2giLCJfY2hlY2tJbnB1dFZhbGlkaXR5IiwiaW5wdXQiLCJ2YWxpZGF0aW9uQ29uZmlnIiwiU2VjdGlvbiIsImNvbnRhaW5lciIsIml0ZW1zIiwicmVuZGVyZXIiLCJhcHBlbmQiLCJfaXRlbXMiLCJfcmVuZGVyZXIiLCJfY29udGFpbmVyIiwiX2FwcGVuZCIsIml0ZW0iLCJwcmVwZW5kIiwiVXNlckluZm8iLCJ1c2VyTmFtZSIsInVzZXJKb2IiLCJfdXNlck5hbWUiLCJkb2N1bWVudCIsIl91c2VySm9iIiwiYWJvdXQiLCJkYXRhIiwiUG9wdXAiLCJwb3B1cCIsIl9wb3B1cCIsIl9oYW5kbGVFc2NDbG9zZSIsImJpbmQiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwiZXZ0Iiwia2V5IiwiY2xvc2UiLCJ0YXJnZXQiLCJjb250YWlucyIsIlBvcHVwV2l0aEltYWdlIiwiX3BvcHVwSW1hZ2UiLCJfcG9wdXBDYXB0aW9uIiwiUG9wdXBXaXRoRm9ybSIsImhhbmRsZXJGb3JtU3VibWl0IiwiX2hhbmRsZXJGb3JtU3VibWl0IiwiX2lucHV0cyIsIl9mb3JtVmFsdWVzIiwidmFsdWUiLCJwcmV2ZW50RGVmYXVsdCIsIl9nZXRJbnB1dFZhbHVlcyIsInJlc2V0IiwiaGFuZGxlUmVzcG9uc2UiLCJyZXMiLCJvayIsImpzb24iLCJQcm9taXNlIiwicmVqZWN0Iiwic3RhdHVzIiwiQXBpIiwiYmFzZVVybCIsImhlYWRlcnMiLCJzbHVnIiwibWV0aG9kIiwiYm9keSIsImZldGNoIiwiSlNPTiIsInN0cmluZ2lmeSIsIl9mZXRjaCIsImF2YXRhclVybCIsImF2YXRhciIsImNhcmRJZCIsImVkaXRQb3B1cEJ1dHRvbiIsInBvcHVwRWRpdCIsInBvcHVwQWRkSW1hZ2UiLCJwb3B1cENoYW5nZUF2YXRhciIsImlucHV0TmFtZSIsImlucHV0Sm9iIiwib3BlbkFkZEZvcm1CdXR0b24iLCJlZGl0Rm9ybSIsImZvcm1zIiwiYWRkQ2FyZEZvcm0iLCJjaGFuZ2VBdmF0YXJGb3JtIiwiYmlnUGhvdG8iLCJvcGVuQ2hhbmdlQXZhdGFyQnV0dG9uIiwidmFsaWRhdG9ycyIsIk1hcCIsImNyZWF0ZUNhcmQiLCJjYXJkIiwib3duZXIiLCJfaWQiLCJhcGkiLCJnZXRVc2VySW5mbyIsInRoZW4iLCJnZW5lcmF0ZUNhcmQiLCJ2YWxpZGF0b3IiLCJlbmFibGVWYWxpZGF0aW9uIiwiYXV0aG9yaXphdGlvbiIsImdldEluaXRpYWxDYXJkcyIsImNhcmRMaXN0IiwiY2FyZEVsZW1lbnQiLCJhZGRJdGVtIiwicmVuZGVySXRlbXMiLCJjYXRjaCIsImVyciIsImNvbnNvbGUiLCJsb2ciLCJ1c2VySW5mbyIsInNldFVzZXJJbmZvIiwidXNlckF2YXRhciIsInBvcHVwV2l0aEltYWdlIiwib3BlbiIsInNldEV2ZW50TGlzdGVuZXJzIiwicG9wdXBXaXRoRWRpdEZvcm0iLCJvYmoiLCJnZXQiLCJyZXNldFZhbGlkYXRpb24iLCJwb3B1cFdpdGhBZGRJbWFnZUZvcm0iLCJhZGRDYXJkIiwicG9wdXBXaXRoQXZhdGFyQ2hhbmdlRm9ybSIsImNoYW5nZUF2YXRhciJdLCJzb3VyY2VSb290IjoiIn0=